<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>SpazCore Example Shell</title>
	
	<!-- Load required vendor libs -->
	<script src="../vendors/jquery-1.4.2.js" type="text/javascript" charset="utf-8"></script>

	<!-- Load SpazCore base lib -->
	<script src="spazcore-standard.js"></script>
	<script src="../incubator/libs/spazmenu.js" type="text/javascript" charset="utf-8"></script>
	
	<link rel="stylesheet" href="css/base.css" type="text/css" media="screen" title="no title" charset="utf-8">
	
	<style type="text/css" media="screen">
	
	div.spaz_menu {
		margin:    0px;
		padding:   5px;
		width:   200px;
		position:absolute;
		display: none;
		
		background-color:rgba(32,32,32,.8);
		color:#FFFFFF;
		-webkit-border-radius:5px;
	}
		div.spaz_menu ul {
			margin:    0px;
			padding:   0px;
			list-style:none;
			overflow:auto;
		}
			li.spaz_menu_li {
				margin:    0px;
				padding:   5px;
				list-style:none;
				font-size:9pt;
				-webkit-border-radius:5px;
				cursor:pointer;
			}
				li.spaz_menu_li:hover {
					background-color:#000;
				}

	</style>
	
	<script type="text/javascript" charset="utf-8">
		$(document).ready(function() {
			
			/*
				create the usermenu object. All usermenus will be generated by this
			*/
			var usermenu = new SpazMenu({
				'base_id':'user_menu',
				'items_func': function(itemsdata) {
					var items = [
						{
							'label':"Send @Reply to "+itemsdata.username,
							'handler':function(e, data) {
								alert('clicked "Send @'+data.username+'"');
							},
							'data':{'username':itemsdata.username} // passed to handler
						},
						{
							'label':"Send DM to "+itemsdata.username,
							'handler':function(e, data) {
								alert('clicked "Send DM"');
							},
							'data':{'username':itemsdata.username} // passed to handler
						},
						{
							'label':"Search for "+itemsdata.username,
							'handler':function(e, data) {
								alert('clicked "Search for user"');
							},
							'data':{'username':itemsdata.username, 'id':74} // passed to handler
						}
					];
					return items;
				}
			});
			
			
			jQuery(document).delegate('div.user', 'click', function(e) {
				
				var username = jQuery(this).attr('username');
				usermenu.show(e, {'username':username}); // the second param is passed to items_func above

			});
			

			
		});
	</script>
	
</head>

<body>
	<div id='container'>

		<div class="user" username="donthorp">
			<img src="https://s3.amazonaws.com/twitter_production/profile_images/742915177/Don-Profile-2010-300x300_normal.jpg" class="user">
		</div>
		<div class="user" username="digitalmash">
			<img src="https://s3.amazonaws.com/twitter_production/profile_images/63519167/771448_icon_normal.jpg" class="user">
		</div>
		<div class="user" username="jesawyer">
			<img src="https://s3.amazonaws.com/twitter_production/profile_images/883594235/newpic_normal.png" class="user">
		</div>
		<div class="user" username="brianleroux">
			<img src="https://s3.amazonaws.com/twitter_production/profile_images/627247984/me_normal.jpg" class="user">
		</div>
		
	</div>

</body>
</html>
